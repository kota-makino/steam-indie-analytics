# Cloud Run Environment Configuration
# Steam Indie Analytics - Google Cloud Run用環境変数設定

# ===========================================
# データベース設定（Cloud SQL PostgreSQL）
# ===========================================
# Cloud SQL接続用設定（実際の値は Secret Manager で管理）
DATABASE_URL=postgresql://username:password@/database_name?host=/cloudsql/project_id:region:instance_name
POSTGRES_HOST=/cloudsql/project_id:region:instance_name  # Cloud SQL Unix ソケット
POSTGRES_PORT=5432
POSTGRES_DB=steam_analytics
POSTGRES_USER=steam_user
POSTGRES_PASSWORD=secure_password

# Cloud SQL接続設定
CLOUD_SQL_CONNECTION_NAME=project_id:region:instance_name
INSTANCE_CONNECTION_NAME=project_id:region:instance_name

# ===========================================
# Redis設定（Memory Store Redis）
# ===========================================
REDIS_HOST=10.x.x.x  # Memory Store Redis の内部IP
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_URL=redis://:redis_password@10.x.x.x:6379/0

# ===========================================
# Steam API設定
# ===========================================
STEAM_API_KEY=your_steam_api_key_here

# ===========================================
# AI API設定
# ===========================================
GOOGLE_API_KEY=your_gemini_api_key_here

# ===========================================
# アプリケーション設定（Cloud Run最適化）
# ===========================================
# Cloud Runのポート（自動設定されるが明示的に設定可能）
PORT=8080

# Streamlit設定
STREAMLIT_SERVER_HEADLESS=true
STREAMLIT_SERVER_ENABLE_CORS=false
STREAMLIT_SERVER_ENABLE_XSRF_PROTECTION=false
STREAMLIT_SERVER_MAX_UPLOAD_SIZE=10
STREAMLIT_THEME_BASE=light

# Python設定
PYTHONPATH=/app
PYTHONUNBUFFERED=1

# ログ設定
LOG_LEVEL=INFO
LOG_FORMAT=json

# ===========================================
# セキュリティ設定
# ===========================================
# セッション管理
SESSION_SECRET_KEY=your_session_secret_key_here

# HTTPS設定（Cloud Run環境では自動対応）
FORCE_HTTPS=true

# ===========================================
# パフォーマンス設定
# ===========================================
# データベース接続プール
DB_POOL_SIZE=5
DB_POOL_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# キャッシュ設定
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ===========================================
# モニタリング設定
# ===========================================
# Google Cloud Monitoring
ENABLE_MONITORING=true
MONITORING_PROJECT_ID=your_project_id

# OpenTelemetry設定
OTEL_SERVICE_NAME=steam-indie-analytics
OTEL_RESOURCE_ATTRIBUTES=service.name=steam-indie-analytics,service.version=1.0.0

# ===========================================
# 開発・デバッグ設定
# ===========================================
ENVIRONMENT=production
DEBUG=false
TESTING=false